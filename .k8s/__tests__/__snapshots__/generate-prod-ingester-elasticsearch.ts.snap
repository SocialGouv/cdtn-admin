// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`INGESTER_ELASTICSEARCH_TARGET=preprod kosko generate --env prod jobs/ingester-elasticsearch 1`] = `
"---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ingester-elasticsearch-to-preprod
data:
  CDTN_ADMIN_ENDPOINT: http://hasura/v1/graphql
  NLP_URL: https://preprod-serving-ml.dev2.fabrique.social.gouv.fr
  NODE_ENV: production
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    sealedsecrets.bitnami.com/cluster-wide: 'true'
  name: ingester-elasticsearch-to-preprod
  namespace: null
spec:
  encryptedData:
    ELASTICSEARCH_TOKEN_INGEST: >-
      AgCDOrI1r1KC7ZbRkxev62k40SdnoDmE4zUgwobRIuB2gswKppSZVAiRcqe92EBb0DgHdaZYEMlcNgAy85aJC8U9iFIKBQf92vs9+Qg+iYnWOEpJ/yyTkx3WcCqxNP42HH4yNEk9e27sNYAPwFUDZtJyeaaw1E108g5X8RnJPx55niQMOL302tkMq7eRTInkeM2OTz9mI4ZpCXhVtL4nGu57eVNsrMr2SIW4gFXvYrB0baZ7IomH/qfsCbcGuJGhJSBLr31eVOWHwFG/ZjX7M58ygWXW0PJZiJGTAdcB/QeYd1NzBHpTWVgJsvZU6xaY/dT13Ts9vuqHmp3QJMp6T7/fxs5aRsSWzHMTR2gdPLbvJLddFzC24A8IbUGD8sSXfVpj3IdyQh1wouGqxeqHzQhhXl5F/CHfA4h/wNuuNxSgf00eaBtzCOu7Kp/cMlXfb8ZK0B2OZvUP72puadfUfXO4/7OsCqxKhG58GOqis+MWF1y87jHK/hFJznN+gzJ5oBmdhUy77kMeIGuAV7YwNv1zJZ69ffWVolaJw8eve5IJ+UdfQMM/Z9Z9MfJT+C8BtD7MR88qI2lIHIAivyMedmgeSerRHd1kA3NPQGM6YHKv2AxPXVjVwQHkYELnOS6yE6P4YeJSa4yctRjH+/JjDNXVxPhj0W/OTNYzx+U4Irv/JfBKvUF6tdVENG7JP0C3mGCwP6Q5iCCAtG6oE2tIBaW7QwNfvmG9TLY5nRCm7EBTD/0GZdcL/VqlOoe4TGnHqqrbcc9th5k80a1m0XM=
    ELASTICSEARCH_URL: >-
      AgBxkNsQpkk6V5GIA8WuYBXE1iTLglrzRoR5HQ9QtBzsjDb9siCHQc+U9UFI72hDKi3yNO2g1lk+Nh7ooKHpqzzV0PSB0gyUJwo4MmqfxUDw3ef2BHezK7DK0z1YB/ZU8BLK5LenLchoKsKejv1YC1OQmG6EUHPW/3hm2qiS56anl6AIyUqXsokx+5QScjmHE3KybThaBkva/7PEQn/vks9wbY2mePvBPanSnVSLuSUY0yn0UXrmJnyW87oXVaJSQU/+5oDPdnb4pN8wivmjQEBLyVvjL2xSFz2druu4wjDpArup981GA7jCTarCzxjomGKnfxu7U98YKho1OUbuGevL1TXZaOkXaSIpls5mViZjUB2WaUVqQhHr9K1f6Hmhidh6S7v8NX4NbPKgKA7PTJ1dzi7EeKUCiIJPXiSI76H/rNlEx55TlroXQxEPjmQ91yEcCtRNa6MS2X6Flu539+t2m0+nm+Wqx7SmbGROjvCbSaYMShdsYQgnRj3VMgzoToLcnRPO0MdIop2L6GN5ocyFPk/QRUry+A/TH5eYkuMGu/FhctdrNEMo2kcYgIiTfqQ9tuQQqD3UCJ74DkUOod8OJoTu2EQ6RVBXqVCb9cM0AmoYgUDx1JW0l1124UYzpqIPhaRdPe6M8JH9zXuQAI93R7Paezn8GEMaXfiBRc/fVRUdTbAdbGvdmEZVeiczEK+JsKcdvMuqud15UmcFF0N7rfuia1u6TjCvaF/gvFIlLnMccFYmKACJnf1SJ/5Cx6L0SajjyBhxNP8DMVHhmMpbIqfQBPJho0nVQk7ZoU5Heg==
    ES_LOGS: >-
      AgC67OuxqDwAazDgGDacZTYoeGWfQqgn8l8c5/HYXVCav7RBfUCyg4uhePMNkvJKGinhDmm+Nm1CVUQVY4c2cLyMFSVBs4W+i5a78hB3Y3J0TvIK7E+laB8NZX+6h48TYXgW2DUItuUjMesuRqMvnn4T+VzCr5s9I4Qum3mKebYLWjK/p6etxMgO4KunTk18uDuq9J0tDowEoy4SiPwlkbwfD765Q9vF53qsIre0hxH/V/fPRGiewjXNVnhbzGn56uHE0g+OfrS/CEjnvogW0HgIV1eyEhSo822/nEbizJ2CcUZLeFS5zUu9Cjl5sv9mneUrAIDXJJzPwACW4qVnuxgxPbtcGDwVn8yfZnJLxHfmTbZRyPRDIOBhutHTz0LhnBWhU156zSe9MnYKjBDAhExcvbshnJ9Qu1Tfx3AAXCHWXtLaz2dc3rqieI3PxNB8LRGaPNr5//QusRpR+3nrCIE+/mposS95isU2r4bKwmzSXuRL8LZYHeiLsZsct/L/uQ624kiHJ5IG/vzag9M9ZygWVroukMgkZ2RrbwAL/ouNyJf3mdQtFvTtpdIRRx/MBNSCuxm+cxFJIFwQESuD5txb1/fW/VH3vuw/KmEOidydkc1PFqXRnbelf/Cqrrx5sbdjMDRlcym6HbOs4YiBsy0C4TOSjl5ivnuPjHxY+eD80+0EltatTRpdBjNUdQhWkFt0yn82dGwgw9mMrNiMdnYJWgRNQNVN7mDbBJA9DvONdWFKoW17PmoqWU6glGqFqHnNAhS0fl1djsuq4Db/bunP4UFvzpXrSrjTv0eh11Wd6A==
    ES_LOGS_TOKEN: >-
      AgDQ1U0RWt1xKpDFV3hmP/DfyMSLeWo2q6jpzAQ5tiKpETF4vJZohPwplK0i3UPJCt6lGJxw1S0z1obmn8LOTafFSaWzEfEl/zDZ4ft1hKAjx43gBEy6zebD2k+vFuUEz+/Df/P8ahnXwLXwo8agl1rwJRiES5MTr1bTiYAoUkm4JXPheLCowlrUzJba4FXkjYpKCtNSnyUgdIS1AoUw8DsgPKVFjq6KJhgcWY53KyJUKuF/2yIlrSNOh9LLkTUCNRMdwTemqHDv0ClIZFkA+JmU0Jj3ZTzmSK822OiRk5nk4x1UR+TVG2pb97pzCm9CadNQBMEzSLD3U+IM7mD/N4klsaoFLEXBxGpF7N6zQe9Ur8OxBhv/3JQ8lQ1F+CAtW8kBJSkOCygkTDH3HUfhLDZf6FPsMQp2jZXqdns6MSf2HUvwg7CV0f2/LFdNjl+KE8ICfGsxr3h4BhIfP1OokHJgABA2UrUHI38rZ6JTAIlqRHcS8V/FeGqL0biMvUf3+oKJQjlSIjwR6U6KJv1DOk9588F4oQfiim2++htg+88/iE4rRyVrDDJPh76pTDeo1+szFC+cIrfHveSUz6aPq9lFm1ENGczzp1DVc7lPxiH3NmMovxjFaEWaRaTJTBra93v9eDsqC4Xh3qKAN9MuTHSr/MkCToadfsOxDnFE8Rm9gQFehY5tmss3Vu6eD1Hf7vS43691MXWRUpbpc0Z2rJG32ycC7BnZ/PZML63K31Pw7Ahi6AVLiSqdyt3gQvja0Zy3da2YW+500yftY+Q=
  template:
    metadata:
      annotations:
        sealedsecrets.bitnami.com/cluster-wide: 'true'
      name: ingester-elasticsearch-to-preprod
    type: Opaque
---
apiVersion: batch/v1
kind: Job
metadata:
  name: ingester-elasticsearch-target-preprod
  namespace: cdtn-admin
spec:
  backoffLimit: 0
  template:
    spec:
      containers:
        - name: ingester-elasticsearch-target-preprod
          image: >-
            registry.gitlab.factory.social.gouv.fr/socialgouv/cdtn-admin/ingester-elasticsearch:1.2.3
          imagePullPolicy: IfNotPresent
          resources:
            limits:
              cpu: '2'
              memory: 1Gi
            requests:
              cpu: '1'
              memory: 512Mi
          envFrom:
            - configMapRef:
                name: ingester-elasticsearch-to-preprod
            - secretRef:
                name: ingester-elasticsearch-to-preprod
          env:
            - name: ES_INDEX_PREFIX
              value: cdtn-prod-v1.2.3
      restartPolicy: Never
  ttlSecondsAfterFinished: 86400
"
`;

exports[`INGESTER_ELASTICSEARCH_TARGET=prod kosko generate --env prod jobs/ingester-elasticsearch 1`] = `
"---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ingester-elasticsearch-to-prod
data:
  CDTN_ADMIN_ENDPOINT: http://hasura/v1/graphql
  NLP_URL: https://serving-ml.fabrique.social.gouv.fr
  NODE_ENV: production
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: ingester-elasticsearch-to-prod
  namespace: cdtn-admin
spec:
  encryptedData:
    ELASTICSEARCH_TOKEN_INGEST: >-
      AgAHjJV9u12HmfLx6SZsShRVQs1FhhRk/qZwR/7gsKyRRSIslcjDV2fWaEHClD775aDHOJxGPxq2eZNw2Bpy8gD/VZtWaMtM0QVCVw2kloMraXGYXB9wwKnoLXT27RfT3JQReEhSq1mYgmw4wqkt9llqiPp5LcmrrTQ4nEqGIbEyFnCgdwgmbxHR7tGGVrJBVDPmS5bgtQZNoSZgyasepvvlI5LjqWdXZjEPABO99FI6MyOtvTylPfaKmv6EqcyDGrZo6CTw0d7ihpCcxO9EvvfdQtjT1D2Qz7kIHRTyVbUCfVADZo1m+tdDGAXhlV6b77Byoueeo5+PBZL092nwngmj9ZUaY/zoAuNNCkYIbySA8fhN37xRX6gUkMfOsgF4y9v5DKTqvhrw+Ndt3LMzs2KqQJ9AS20VM9hw5x4TxDpqxaNZzVvxfRfr9NpRfC28k5chMgJml4tZfBNAe1tlxdSTEGJYWMzeYQZzqTD7hHulJx9QOrkocY5j9lxLifCRn1/xzCjAb2lqFEqye9op1UaYJxQ26GLZb1dwSz3OC8/czDNYb03k2KeX3fHvVq5vdkZSz+fT/yyIxr0Nrb0WCXz5ABiDCZehMx39fWi77Go3MfA0MOaVy6LGXj0tbOLbSMFKbDne7ulwt68t7IPfSX0OmUi3IUzSHyCFHIl1vTeg+/GRCOa0baepSzJn6TifsoE7YJLB8qUn1D/2SzLZaG3+7fuDxde7MfRGUUZT6tGqvUciWJkbxrHE+7Ll8zV56Xx/rDGFKgevEH/n6YtCvD1t
    ELASTICSEARCH_URL: >-
      AgAqyxNAVOnk5bgL84Kf2x4kS9aRSUOh7VMieKFQCzbLvBW7yWLCQ/uILPCvsG8M3VlviROKNEpAIAfH8G2HbXq/4SuGfoKL/DXEVyFu1sFxOeP2I9p6yYr4sObE7vy3E/aQoGerxAjFUSMAtNhuuUnozbD+wAnVJfsA8LUkdd1YhMpxQf/5Yp48iVGm2cGCFdm3WJLwmsYVHe+U7kNwbzoiq3OwCK/4d80ezkj18lcyS1kp5C3HaOisV6gRkc65Qt0TQck3CAfegiuLmYfSNdfL69WLx9/+UvF+Mo5pPe7qYjXNp6LLVPURLmgT/CaBarrSfQNVlG4aXckBuFgV52+Rdb63YPz8Bk5nmhnURxoJcHaS+ixuLeGgsJ53uK2ivN6a42QOhrW3WGufCNVjBqzfyBmZqYIIVu61BToHo9RyZ9wtFeCgAlwrFLF5LEJob/N8lewEJ8f3Y3+hvxdV8RONCeodmkRW3ScnevjC95X0jA0NHEueE+pYuf6SGsL8+0gzodtL9kKE4/lhRh1vILGrrc399Qqg+3t4+GPHYnPQ/ZPk77xyaIYZvNsbtPmMVznR3/W1ieX/lR0uzeD73gYqJCoZsiN5Bmb7zjuc6VKhfp5FDpteeKRv1X1Q9v/6hI3p+MzDI82389PDIDpPve2cq5vS83E1s2/FkfdHQj3ApKlUZAYWZo/zst1UQZ0VFIw113XwVwt7mp41rY8FatzB11Ppe5+QGRfwdrEMq/ve3vX+UzxxqZRwDNPcZ1hw+jF/s5u0Hdm4WlzVManKY/V1dDZ0otGGF5mTCOr3nn5jP5oqZw==
    ES_LOGS_TOKEN: >-
      AgAimAHXcsCtDaTkq8aeVk6EoOd9vU2Lp/HQsgmmPCHBcrFT9zk9EpTGj5iFqOTxqXtG0jP0yggF2pHRJ4Oh/coayFfMW5X96KIw+rkQ2XtK7xr7g+emH6A4fohEFGFY6Kq0uu8ITYYDhndB99zoAKi4i2czbN4OqRXQnI/phSx2clom9wM5mjITxRtYz53l3Cych9vf+/kaMbxeEDY/PKZGJV3kUctaWCZhYPqAhKgOkYyYPLQhRPbPqgmFpqkad0LoPjqrNTM9lwyALcZVfLde23VO709TSa7o9BCeYJf6Pz0xxh6oypIPOoCv06Bh/De8jXBIhPuZPh6Dqosy/uw397G+FPULFa8C+S59teDU5BUnEvDSXipTNjx8tIL/hhijAxNLdoB/ZZtupLDYO/dUnNQ4wuszpdK/9YteRWfXNEbqSxq9H7Iv/f4v5XEgPm0ezYIIEFGg2JWuPJPyKaP4KLRFl59bigh+E7I+RaGWddWnXLtvMjwUtwiPGII8eO4opdpJ18bGJ/BfxSnLyFNtD5Lvwo2czHM5ol2StR5ApDuws03T2VYm7Bi1eda2rfVNe1mOG1r6/VxakRJ16Ou/q/lhZFmhvLnGAdXuGyAcumk25MRRZueFUvBUx72ZnbMefU30d42t8t2CFq2yTaYvSj/D/mOHnFpaOjwpMIh/uBfCJUyQu9Lt4Rx39IQZsAfwcqnsm6OHoy4WHtmpKHfz45jOk/BualuDrGFnycjg4axJtQhfYtPvfemVepKJmG00VzQp/e0PSbM7
    ES_LOGS: >-
      AgAIl9cv/PhAlZssp9Q04G1Add4KHpt7tB2iMp9E38R8Gen4rvavtBsqZrG/Fhwp89+Mctoa0VbLakf1v3w+kWZwBMUjoTjutpRax3VZwBrq8kNWnT1uCrB2GxQB8AyHzyqQHhNJBM3YQzgyGRxNtSMeVrvGjj3MBR/E1DU48gPtHtkdiFd/lu1rAjxbLHWE10mK6kil/7vMZtEu2wQxRhnVkX68oeVdHXAkgvnU1nOvmhqMQK4+7Q3Ddt4Z81BzQy186TeXjxmMyLteef6qY77NyY382DPcnloyN1d/wB01PtxE6Gxd8dNL3+XLzDBYTW44ukugTTGPKViSe+xtnMqR/xJB7BAmu9cMlgQp42AkakpEgpfyMbzez1iJgiA7DC9aCP6vxp7S8uSdXCLmBPd4sX8LY5sFzm9nLSWy8nnL64G0GxvM/7LIAbzGDQucBbhVHIVEobUGDCRKKzz8j2PSnwmGx27XVJJf/X9aJfF7KBlFR2phMpPe/G1X7Os2yiKwUFT5wNSdwoijHGa9F19jTr0yGxJjT1Wo1CZxEfG140JT0H9P4CjsbpKdWmqY0ecrZHmQnqYMedtJK2eSG4RREI1a2N5sy/Sjb0P2jI2lAFY6yh+vaN09sMfD3f/IhnDZz0E5ecIGHpv9yCxgWX8Wn2Rygz2ksXCmCeZ6cBaMzVkGZy4vkMCX2vTOi1jLKTb5SdJINOtXT7HhGnIADNs2PxKBC7QMe6sSDZflzRsgspM+BY2hIlg9cQ55QSRkTMrYJ5Vb0XtVBo1tNNQnKiT5chSllN/nYwyLuv03eDUFQg==
  template:
    metadata:
      name: ingester-elasticsearch-to-prod
      namespace: cdtn-admin
    type: Opaque
---
apiVersion: batch/v1
kind: Job
metadata:
  name: ingester-elasticsearch-target-prod
  namespace: cdtn-admin
spec:
  backoffLimit: 0
  template:
    spec:
      containers:
        - name: ingester-elasticsearch-target-prod
          image: >-
            registry.gitlab.factory.social.gouv.fr/socialgouv/cdtn-admin/ingester-elasticsearch:1.2.3
          imagePullPolicy: IfNotPresent
          resources:
            limits:
              cpu: '2'
              memory: 1Gi
            requests:
              cpu: '1'
              memory: 512Mi
          envFrom:
            - configMapRef:
                name: ingester-elasticsearch-to-prod
            - secretRef:
                name: ingester-elasticsearch-to-prod
          env:
            - name: ES_INDEX_PREFIX
              value: cdtn-prod-v1.2.3
      restartPolicy: Never
  ttlSecondsAfterFinished: 86400
"
`;
